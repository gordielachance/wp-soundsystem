@import "compass/css3";
@import "wpsstm-shared";

#wpsstm-player-actions{
    padding:0;
    margin:0;
    margin-right:.5em;
    .wpsstm-player-action{

        a{
            &:before{
                @extend .fa;
                display:inline;
            }
            span{
                display:none;
            }
        }

        &.wpsstm-loading a:before{
            @extend .fa-circle-o-notch;
            @extend .fa-spin;
            @extend .fa-fw;
        }
        &:not(.wpsstm-loading){
            &#wpsstm-player-action-scrobbler{
                @include opacity(.25);
                a:before{
                    @extend .fa-lastfm;
                }
                &.wpsstm-enabled{
                    @include opacity(1);
                }

            }
        }
    }
}

#wpsstm-bottom-wrapper{
    
    position:fixed;
    width:100%;
    padding:0;
    bottom: 0;
    min-height:0em;
    z-index: 50;

    
    #wpsstm-bottom{
        display:none;
        background:$player-bg-color;
        color:$player-text-color;
        a{
            color:$player-text-color;
        }
        #wpsstm-bottom-track-wrapper{

            width:100%;
            table-layout:auto;
            padding:0;
            margin:0;
            td{
                padding:0;
                margin:0;
                &#wpsstm-bottom-track-info{
                    vertical-align: top;
                    border:none;
                    table{
                        td{
                            display:inline-block;
                            padding: 0 .75em;
                            box-sizing: content-box;
                            &.wpsstm-track-position{
                                @extend .wpsstm-can-click;
                            }
                            &.wpsstm-track-play-bt{
                                display:none;
                            }
                            &.wpsstm-track-title{
                                &:before{
                                    content: "â€”";
                                    margin-right:1.5em;
                                }
                            }
                        }
                    }
                }
            }
        }

        #wpsstm-bottom-player-wrapper{
            width:100%;
            padding:0;
            margin:0;
            td{
                text-align:center;
                vertical-align:middle;
            }
            #wpsstm-player{
                width:80%;
                margin:auto;
            }
            .wpsstm-player-extra{
                &#wpsstm-player-shuffle:not(.active){
                    @include opacity(.3);
                }
                &#wpsstm-player-loop:not(.active){
                    @include opacity(.3);
                }
            }
        }
    }

}

//tracklist from bottom player
#wpsstm-bottom-track-wrapper .wpsstm-tracklist{

    text-transform: uppercase;
    font-size: .75em;
    letter-spacing: .05em;

    table{
        td{
            &.wpsstm-track-image{
                padding-left:0!important;
            }
            &.wpsstm-track-album{
                display:none!important;
            }
            &.wpsstm-track-sources{
                position:relative;
                width: 20%;
                @include opacity(.25);
                .wpsstm-track-sources-list{

                    padding:0;
                    line-height: 2em;
                    [data-wpsstm-source-idx]{

                        display:block;
                        padding: 0 .75em;
                        width:100%;
                        box-sizing: border-box;

                        @include display-flex();

                        .wpsstm-source-links{

                            @include order(1);
                            @include flex(0 0 auto);
                            padding-right: .5em;

                            .wpsstm-source-action{
                                text-align:center;
                                width:2em;
                            }
                        }

                        .wpsstm-source-title{ //source text
                            @include order(2);
                            @include flex(0 1 auto); /*important*/
                            min-width:0;

                            @extend .wpsstm-ellipsis;
                            overflow:hidden;


                        }


                    }
                }

                &:hover{
                    width: 30%;
                    @include opacity(1);
                    .wpsstm-track-sources-list{
                        background: $player-bg-color;
                        text-align: left;
                        position: absolute;
                        bottom: -1em;
                        padding-bottom:1em;
                        [data-wpsstm-source-idx]{
                            line-height:2.5em;
                        }
                    }
                    .wpsstm-source-action{
                        display:initial;
                    }
                }

                &:not(:hover){
                    [data-wpsstm-source-idx]{
                        &:not(.source-playing){
                            display:none;
                        }
                    }
                    .wpsstm-source-action{
                        display:none;
                    }
                }

            }
        }
    }
}