@import "compass/css3";
@import "compass/typography/text/ellipsis";

.truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.wpsstm-table-row{
    display: table;
    > *{
        display: table-cell;
    }
}

.wpsstm-flexible-cell{
    //https://stackoverflow.com/questions/11267154/fit-cell-width-to-content
    width:1%;
    white-space:nowrap;
}

.wpsstm-icon-link{
    text-decoration:none;
    @include box-shadow(none !important); //twenty seventeen fix
    border:none!important;
}

.wpsstm-can-click{
    cursor: pointer;
    cursor: hand;
}
.wpsstm-loading-el{
    pointer-events: none;
    @include opacity(.5);
}

.wpsstm-fullwidth{
    padding: 3px 8px;
    font-size: 1.7em;
    line-height: 100%;
    height: 1.7em;
    width: 100%;
    outline: 0;
    margin: 0 0 3px;
    background-color: #fff;
}

.ellipsis{
    display:block;
    @include ellipsis($no-wrap: true);
}

.wpsstm-notice {
    font-size: 0.8em;
    padding: .5em;
    background-color: #fcf8e3;
    color: #222;
    text-align:center;
    a {
        color: #222;
        text-decoration: underline;
    }
    
    &.active {
        display: block;
    }

}

.toggle-children-container{
    .wpsstm-tracklist{
        margin:0;
    }
    //more - less
    .toggle-children-link{
        @extend .wpsstm-icon-link;
        display: block;
        width: 100%;
        text-decoration: none;
        border-bottom: none;
        text-align: center;
        font-weight: bold;
        font-size: 1.5em;
        small{
            font-size: .5em;
            line-height: 1em;
            vertical-align: middle;
        }
    }
}

.comma-list{
    list-style: none;
    display:inline;
    li{
        display:inline;
        &:not(:last-child):after {
          content: ", ";
        }
    }
}

.wpsstm-pc-bar{
    position: relative;
    display:block;
    background-color:rgba(#CCC, 0.4);
    clear:both;
    width:100%;
    height:1.3em;
    line-height:1.3em;

    .wpsstm-pc-bar-fill{
        display:block;
        height:100%;
        text-align:left;
        position:relative;
        .wpsstm-pc-bar-fill-color{
            width:100%;
            height:100%;
            position: absolute;
            &.wpsstm-pc-bar-fill-yellow{
                background-color:#FFE000;
            }
            &.wpsstm-pc-bar-fill-red{
                background-color:red;
            }
        }

        .wpsstm-pc-bar-text{
            margin:auto;
            display:block;
            text-align:center;
            i.fa{
                padding:0 0.5em;
            }
        }

    }

    &.color-light .wpsstm-pc-bar-text{
        color:white;
    }

    &.offline,&.empty{
        .wpsstm-pc-bar-fill{
            width:100%!important;
        }

        .wpsstm-pc-bar-fill-color{
            display:none;
        }
        .wpsstm-pc-bar-text{
            color:inherit;
            font-size:0.8em;
        }
    }

    &.complete{

    }
    &.incomplete{
        .wpsstm-pc-bar-text{
            text-align:right;
        }
    }

}

ul.wpsstm-actions-list{
    
    list-style: none;
    li {
        display:inline-block;
        
        a{
            label{
                padding-left:.25em;
            }
        }
        
        &.loading{
            @extend .wpsstm-loading-el;
        }
        &.error,&.error a{
            color:red;
        }
    }
}

ul.wpsstm-track-loved-by-list,ul.wpsstm-track-parents{
    @extend .comma-list;
}

/*
Thickbox popups
*/

body.wpsstm_track-template-admin,body.wpsstm_tracklist-template-admin{
    header{
        margin: 2em 0;
    }
    //hide default styles - this may have to be adapted to your theme
    #sidebar,#colophon{
        display:none;
    }
    #content{
        width:100%;
        margin:0;
    }
    #main{
        margin:0;
        padding:0;
    }
    #wpadminbar{
        display:none;
    }
    // !hide default styles
    
    .hentry{
        margin:0;
        padding:0;
        #track-popup-tabs{
            > ul{
                list-style: none;
                li{
                    display:inline;
                    &:not(.ui-state-active){
                        @include opacity(.8);
                    }
                }
            }
        }
    }
}

#TB_window{
    font-family:sans-serif;
    #TB_ajaxWindowTitle{
        
    }
    #TB_ajaxContent{
        margin: 0;
        padding: 1em;
    }
}