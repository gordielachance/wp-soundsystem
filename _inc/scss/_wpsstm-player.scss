@import "compass/css3";

$player-bg-color:#222;
$player-text-color:#FFF;

/*
MINIMAL STYLES
*/

/*
DEFAULT STYLES
*/

body.wpsstm-default,body.wp-admin{

    #wpsstm-bottom-wrapper{

        position:fixed;
        width:100%;
        padding:0;
        bottom: 0;
        min-height:0em;
        z-index: 50;


        #wpsstm-bottom{
            display:none;
            background:$player-bg-color;
            color:$player-text-color;
            a{
                color:$player-text-color;
            }
            #wpsstm-bottom-track-wrapper{

                width:100%;
                padding:0;
                margin:0;
                @include display-flex();
                > *{
                    padding:0;
                    margin:0;
                    border:none;
                    @include display-flex();
                    @include align-items(center);
                    @include justify-content(center);
                    &#wpsstm-bottom-track-info{
                        @include flex-grow(1);
                        @include justify-content(flex-start);
                        [itemprop="track"]{
                            @include display-flex(flex!important);//overwrite jQuery default
                            > *{
                                &.wpsstm-track-position{
                                    @extend .wpsstm-can-click;
                                }
                                &.wpsstm-track-play-bt{
                                    display:none;
                                }
                                &.wpsstm-track-info{
                                    @include flex-grow(0);
                                    .wpsstm-track-album{
                                        display:none!important;
                                    }
                                }

                                &.wpsstm-track-sources{
                                    position:relative;
                                    display:grid;
                                    @include opacity(.25);
                                    .wpsstm-track-sources-list{
                                        padding:0;
                                        line-height: 2em;
                                    }

                                    &:hover{
                                        @include opacity(1);
                                        .wpsstm-track-sources-list{
                                            position:absolute;
                                            bottom:0;
                                            background: $player-bg-color;
                                            [data-wpsstm-source-idx]{
                                                line-height:2.5em;
                                            }
                                        }
                                    }

                                    &:not(:hover){
                                        [data-wpsstm-source-idx]{
                                            &:not(.source-playing){
                                                display:none;
                                            }
                                            .wpsstm-actions-list > *{
                                                &:not(#wpsstm-source-action-provider){
                                                    display:none;
                                                }
                                            }

                                        }
                                    }

                                }
                            }
                        }
                    }
                    
                    &#wpsstm-player-actions{
                        margin-right:.5em;
                        @include justify-content(flex-end);
                        @include flex-shrink(0);
                        .wpsstm-player-action{

                            a{
                                span{
                                    display:none;
                                }
                            }

                            &#wpsstm-player-action-scrobbler{
                                @include opacity(.25);
                                a:before{
                                    content:"\f202"; //.fa-lastfm
                                }
                                &.lastfm-loading a{
                                    @extend .wpsstm-loading-icon;
                                }
                                &.scrobbler-error a:before{
                                    content:"\f071"; //.fa-exclamation-triangle;
                                }
                                &.scrobbler-enabled{
                                    @include opacity(1);
                                }
                            }
                        }
                    }
                    
                }
            }

            #wpsstm-bottom-player-wrapper{
                width:100%;
                padding:0;
                margin:0;
                td{
                    text-align:center;
                    vertical-align:middle;
                }
                #wpsstm-player{
                    width:80%;
                    margin:auto;
                }
                .wpsstm-player-extra{
                    &#wpsstm-player-shuffle:not(.active){
                        @include opacity(.3);
                    }
                    &#wpsstm-player-loop:not(.active){
                        @include opacity(.3);
                    }
                }
            }
        }

    }
    
    //tracklists inside posts //TOFIXDDD
    :not(#wpsstm-bottom-track-wrapper) .wpsstm-tracklist.tracklist-template-table{

        border:1px solid #F7F7F7;
        padding:.5em 1em;

        [itemprop="track"]{
            .wpsstm-track-sources{
                display:none;
            }
        }
    }
    
}

